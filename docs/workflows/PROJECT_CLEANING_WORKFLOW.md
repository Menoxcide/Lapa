# Project Cleaning & Consolidation Workflow

**Purpose:** Comprehensive project cleaning, archiving, consolidation, merging, purging, re-referencing, and pruning  
**Use Case:** Project cleanup, codebase consolidation, archive old code, merge duplicates, purge unused files  
**Orchestrator:** NEURAFORGE  
**Primary Agent:** FILESYSTEM_EXPERT

**Agent Chain:** `RESEARCH_WIZARD → PLANNER → ARCHITECT → FILESYSTEM_EXPERT → CODER → DEBUGGER → TEST → REVIEWER → VALIDATOR → INTEGRATOR → OPTIMIZER → DOCUMENTATION_SPECIALIST → DEPLOYER`

## Key Steps

### 1. RESEARCH_WIZARD - Best Practices Research
- Research project cleaning best practices
- Find patterns for safe codebase consolidation
- Research archive strategies
- Gather dependency pruning information
- Compile research findings

**Output:** Research findings package, best practices guide

### 2. PLANNER - Cleaning Strategy & Planning
- Scan project structure
- Identify cleaning opportunities (duplicates, unused files, dead code, broken references)
- Create cleaning plan (archive, consolidate, purge, re-reference, prune)
- Prioritize tasks by risk level
- Plan rollback strategy

**Output:** Comprehensive cleaning plan, task breakdown, risk assessment

### 3. ARCHITECT - Architecture Analysis & Impact Assessment
- Review cleaning tasks
- Map file dependencies
- Assess consolidation impact
- Design cleaning architecture
- Create ADR for cleaning decisions
- Create migration guide

**Output:** Architecture impact assessment, cleaning architecture design, ADR, migration guide

### 4. FILESYSTEM_EXPERT - Filesystem Operations Execution
- Create full project backup
- Execute archiving (move files to archive)
- Execute consolidation (merge duplicates)
- Execute purging (remove unused files)
- Execute re-referencing (update imports)
- Execute pruning (remove unused dependencies)
- Document all operations

**Output:** Cleaned filesystem, archive structure, operation log

### 5. CODER - Code Fixes & Integration
- Fix broken references
- Resolve merge conflicts
- Update code structure
- Validate code (syntax, TypeScript, lint)

**Output:** Fixed code, updated imports, resolved conflicts

### 6. DEBUGGER - Issue Detection & Resolution
- Analyze codebase for issues
- Detect broken functionality
- Fix runtime errors
- Restore broken functionality
- Validate fixes

**Output:** Issue fixes, bug resolution report

### 7. TEST - Comprehensive Testing & Validation
- Run full test suite
- Fix test issues (imports, references, mocks)
- Validate functionality
- Create regression tests

**Output:** Test results, test fixes, coverage report

### 8. REVIEWER - Comprehensive Code Review
- Review all cleaning changes
- Verify archive completeness
- Check consolidation correctness
- Validate purge safety
- Review re-reference accuracy
- Approve cleaning

**Output:** Code review report, approval status

### 9. VALIDATOR - System-Wide Validation
- Validate cleaning operations
- Validate system state
- Validate integration
- Validate compliance

**Output:** Validation report, compliance status

### 10. INTEGRATOR - System Integration & Verification
- Verify integrations
- Run integration tests
- Validate system health
- Check system performance

**Output:** Integration verification, system health report

### 11. OPTIMIZER - Performance Optimization
- Profile cleaned codebase
- Optimize consolidated code
- Validate optimizations

**Output:** Optimized codebase, performance metrics

### 12. DOCUMENTATION_SPECIALIST - Documentation Update
- Update project structure docs
- Document archive locations
- Update import guides
- Create cleaning report

**Output:** Updated documentation, cleaning report

### 13. DEPLOYER - Deployment Preparation & Validation
- Validate readiness
- Create deployment plan
- Generate release notes

**Output:** Deployment plan, release notes

## Completion Criteria

✅ Research findings gathered  
✅ Cleaning strategy planned comprehensively  
✅ Architecture analyzed and impact assessed  
✅ Filesystem operations executed safely  
✅ All code fixes applied  
✅ All issues detected and resolved  
✅ Tests comprehensive and passing (≥95% coverage)  
✅ Code reviewed and approved  
✅ System validated completely  
✅ Integrations verified  
✅ Performance optimized  
✅ Documentation complete  
✅ Project ready for deployment

